# üîç System Monitor & App Usage Tracker

A comprehensive system monitoring application that tracks processes, detects suspicious activities, and sends SMS alerts for age-restricted apps, VPN usage, and incognito browsing.

## Features

‚úÖ **Real-time System Monitoring** - Automatically tracks running processes
‚úÖ **Anomaly Detection** - Identifies age-restricted apps, VPN, proxy, and incognito mode
‚úÖ **SMS Alerts** - Sends notifications via Twilio for suspicious activities
‚úÖ **Manual Logging** - Add custom app usage entries
‚úÖ **Date Range Filtering** - View logs within specific time periods
‚úÖ **Statistics Dashboard** - View comprehensive usage statistics
‚úÖ **MongoDB Storage** - All logs stored in MongoDB database

## Tech Stack

- **Backend**: Node.js + Express
- **Database**: MongoDB
- **SMS Service**: Twilio (optional)
- **Frontend**: Vanilla JavaScript + HTML/CSS

## Prerequisites

Before you begin, ensure you have:

- Node.js (v14 or higher) installed
- MongoDB installed locally OR MongoDB Atlas account
- Twilio account (optional, for SMS alerts)

## Installation

### 1. Clone or Download the Project

```bash
git clone <your-repo-url>
cd childguard-system-monitor
```

### 2. Install Dependencies

```bash
npm install
```

### 3. Set Up Environment Variables

Create a `.env` file in the root directory:

```bash
cp .env.example .env
```

Edit `.env` and configure:

```env
# Server
PORT=5000

# MongoDB - Choose one:
# Local MongoDB:
MONGODB_URI=mongodb://localhost:27017/childguard

# OR MongoDB Atlas (cloud):
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/childguard

# Twilio (Optional - for SMS alerts)
TWILIO_ACCOUNT_SID=your_sid
TWILIO_AUTH_TOKEN=your_token
TWILIO_PHONE=+1234567890
ALERT_PHONE=+1234567890
```

### 4. Set Up MongoDB

**Option A: Local MongoDB**
```bash
# Start MongoDB service
mongod
```

**Option B: MongoDB Atlas (Cloud)**
1. Go to https://www.mongodb.com/cloud/atlas
2. Create a free cluster
3. Get connection string
4. Add to `.env` file

### 5. Set Up Twilio (Optional)

1. Sign up at https://www.twilio.com
2. Get Account SID and Auth Token
3. Get a Twilio phone number
4. Add credentials to `.env` file

**Note:** SMS alerts will work without Twilio, but alerts won't be sent.

## Running the Application

### Development Mode (with auto-restart)

```bash
npm run dev
```

### Production Mode

```bash
npm start
```

The server will start at `http://localhost:5000`

## Project Structure

```
childguard-system-monitor/
‚îú‚îÄ‚îÄ server.js           # Main backend server
‚îú‚îÄ‚îÄ logs.html          # Frontend dashboard
‚îú‚îÄ‚îÄ home.html          # Home page
‚îú‚îÄ‚îÄ api.html           # API page
‚îú‚îÄ‚îÄ mini.css           # Styles
‚îú‚îÄ‚îÄ package.json       # Dependencies
‚îú‚îÄ‚îÄ .env               # Environment variables (create this)
‚îú‚îÄ‚îÄ .env.example       # Environment template
‚îî‚îÄ‚îÄ README.md          # Documentation
```

## API Endpoints

### Monitoring
- `GET /monitoring-status` - Check monitoring status
- `POST /monitoring/start` - Start monitoring
- `POST /monitoring/stop` - Stop monitoring

### Logs
- `POST /log-usage` - Add manual log entry
- `GET /get-logs?startTime=&stopTime=` - Get filtered logs
- `GET /all-logs` - Get all logs
- `DELETE /clear-logs` - Clear all logs

### Statistics
- `GET /stats` - Get usage statistics

### Alerts
- `POST /test-alert` - Send test SMS alert

### Health
- `GET /health` - Server health check

## Deployment

### Deploy to Vercel

1. Install Vercel CLI:
```bash
npm install -g vercel
```

2. Create `vercel.json`:
```json
{
  "version": 2,
  "builds": [
    {
      "src": "server.js",
      "use": "@vercel/node"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "server.js"
    }
  ],
  "env": {
    "MONGODB_URI": "@mongodb_uri",
    "TWILIO_ACCOUNT_SID": "@twilio_sid",
    "TWILIO_AUTH_TOKEN": "@twilio_token",
    "TWILIO_PHONE": "@twilio_phone",
    "ALERT_PHONE": "@alert_phone"
  }
}
```

3. Add environment variables in Vercel dashboard:
   - Go to Project Settings ‚Üí Environment Variables
   - Add all variables from `.env`

4. Deploy:
```bash
vercel --prod
```

### Deploy to Heroku

1. Install Heroku CLI and login:
```bash
heroku login
```

2. Create Heroku app:
```bash
heroku create your-app-name
```

3. Add MongoDB Atlas add-on:
```bash
heroku addons:create mongodb-atlas:free
```

4. Set environment variables:
```bash
heroku config:set TWILIO_ACCOUNT_SID=your_sid
heroku config:set TWILIO_AUTH_TOKEN=your_token
# ... add other variables
```

5. Deploy:
```bash
git push heroku main
```

## Configuration

### Monitored Anomalies

The system detects these anomalies:

**Age-Restricted Apps:**
- Discord, Snapchat, TikTok, Instagram, Facebook
- Twitter, Reddit, Twitch, YouTube, Netflix

**VPN Apps:**
- NordVPN, ExpressVPN, TunnelBear, ProtonVPN
- Hotspot Shield, Windscribe

**Proxy Apps:**
- Tor, Psiphon, Proxy

**Incognito Keywords:**
- Incognito, Private, InPrivate

### Customizing Detected Apps

Edit `server.js` and modify these arrays:

```javascript
const AGE_RESTRICTED_APPS = [ /* your apps */ ];
const VPN_APPS = [ /* your vpn apps */ ];
const PROXY_APPS = [ /* your proxy apps */ ];
```

## Monitoring Behavior

- Monitoring runs every **30 seconds**
- Only logs processes with detected anomalies
- Avoids duplicate logs within 5-minute windows
- Automatically starts on server launch

## Troubleshooting

### MongoDB Connection Issues

```bash
# Check if MongoDB is running
mongo --version
mongod --version

# Start MongoDB service
sudo systemctl start mongod  # Linux
brew services start mongodb-community  # macOS
```

### Port Already in Use

Change port in `.env`:
```env
PORT=3000
```

### Twilio SMS Not Sending

1. Verify credentials in `.env`
2. Check Twilio account balance
3. Verify phone numbers are verified in Twilio

## Security Notes

‚ö†Ô∏è **Important Security Considerations:**

1. Never commit `.env` file to version control
2. Use environment variables for sensitive data
3. Enable MongoDB authentication in production
4. Use HTTPS in production
5. Implement rate limiting for API endpoints
6. Validate and sanitize all user inputs

## License

ISC

## Support

For issues and questions, please open an issue on GitHub.

---

Made with ‚ù§Ô∏è for child safety and parental control
